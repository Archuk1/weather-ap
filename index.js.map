{"version":3,"file":"index.js","sources":["../src/js/weather-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default async function fetchWeather(latitude, longitude) {\n  const API_KEY = \"vcRK23EVDEbMBXvrVm8tmM73REsxVx\";\n  const originalUrl = `https://www.amdoren.com/api/weather.php?api_key=${API_KEY}&lat=${latitude}&lon=${longitude}`;\n  const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(originalUrl)}`;\n\n  try {\n    const response = await axios.get(proxyUrl);\n    return response.data;\n    \n  } catch (error) {\n    console.error(\"Weather error:\", error);\n    throw error;\n  }\n}\n","const weatherCardList = document.querySelector('.weather-card');\n\nexport default function renderCard (cards){\n    const markup = cards.map(el => `<div class=\"weather-card\">\n  <div class=\"date\">${el.date}</div>\n  <img src=\"${el.icon}\" alt=\"Cloudy\" class=\"icon\">\n  <div class=\"summary\">${el.summary}</div>\n  <ul class=\"temps\">\n    <li>Min: ${el.min_c}°C</li>\n    <li>Max: ${el.max_c}°C</li>\n    <li>Avg: ${el.avg_c}°C</li>\n  </ul>\n</div>\n`).join(\"\");\nreturn weatherCardList.innerHTML = markup;\n}","import \"./css/styles.css\";\nimport fetchWeather from \"./js/weather-api\";\nimport renderCard from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n  form: document.querySelector('.js-form'),\n}\n\n\nrefs.form.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const formData = new FormData(e.target);\n  const lat = formData.get('lat');\n  const lon = formData.get('lon');\ntry{\n  if(lat.trim() === \"\" || lon.trim() === \"\"){\n    return iziToast.error({\n      message: 'Enter all fields',\n      position: 'topRight'\n    })\n  }\n\n  const response = await fetchWeather(lat,lon);\n  renderCard(response.forecast);\n\n} catch(err) {\n  return iziToast.error({\n    message: err.message,\n    position: 'topRight'\n  })\n}  \n  \n  \n  e.target.reset();\n\n})\n\n"],"names":["fetchWeather","latitude","longitude","originalUrl","proxyUrl","axios","error","weatherCardList","renderCard","cards","markup","el","refs","e","formData","lat","lon","iziToast","response","err"],"mappings":"6vBAEe,eAAeA,EAAaC,EAAUC,EAAW,CAE9D,MAAMC,EAAc,sFAAkEF,CAAQ,QAAQC,CAAS,GACzGE,EAAW,yBAAyB,mBAAmBD,CAAW,CAAC,GAEzE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAID,CAAQ,GACzB,IAElB,OAASE,EAAO,CACd,cAAQ,MAAM,iBAAkBA,CAAK,EAC/BA,CACR,CACF,CCfA,MAAMC,EAAkB,SAAS,cAAc,eAAe,EAE/C,SAASC,EAAYC,EAAM,CACtC,MAAMC,EAASD,EAAM,IAAIE,GAAM;AAAA,sBACbA,EAAG,IAAI;AAAA,cACfA,EAAG,IAAI;AAAA,yBACIA,EAAG,OAAO;AAAA;AAAA,eAEpBA,EAAG,KAAK;AAAA,eACRA,EAAG,KAAK;AAAA,eACRA,EAAG,KAAK;AAAA;AAAA;AAAA,CAGtB,EAAE,KAAK,EAAE,EACV,OAAOJ,EAAgB,UAAYG,CACnC,CCTA,MAAME,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,CACzC,EAGAA,EAAK,KAAK,iBAAiB,SAAU,MAAOC,GAAM,CAChDA,EAAE,eAAc,EAChB,MAAMC,EAAW,IAAI,SAASD,EAAE,MAAM,EAChCE,EAAMD,EAAS,IAAI,KAAK,EACxBE,EAAMF,EAAS,IAAI,KAAK,EAChC,GAAG,CACD,GAAGC,EAAI,SAAW,IAAMC,EAAI,KAAI,IAAO,GACrC,OAAOC,EAAS,MAAM,CACpB,QAAS,mBACT,SAAU,UAChB,CAAK,EAGH,MAAMC,EAAW,MAAMlB,EAAae,EAAIC,CAAG,EAC3CR,EAAWU,EAAS,QAAQ,CAE9B,OAAQC,EAAK,CACX,OAAOF,EAAS,MAAM,CACpB,QAASE,EAAI,QACb,SAAU,UACd,CAAG,CACH,CAGEN,EAAE,OAAO,MAAK,CAEhB,CAAC"}